---
## Author
author:
  name: Пыхтеева Маргарита Ивановна
  group: НПИбд-02-25
  student ID number: 1032252597
  email: 1032252597@rudn.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      city: Москва
      address: ул. Орджоникидзе, д. 3

## Title
title: "Отчёт по лабораторной работе №4"
subtitle: "дисциплина: Архитектура компьютера"
license: "CC BY"
---
# Цель работы

Освоить процедуры компиляции и сборки программ, написанных на ассемблере NASM.

# Задание

Программа Hello world!
Транслятор NASM
Расширенный синтаксис командной строки NASM
Компоновщик LD
Запуск исполняемого файла

## Задание для самостоятельной работы
1.В каталоге ~/work/arch-pc/lab04 с помощью команды cp создайте копию файла hello.asm с именем lab4.asm
2. С помощью любого текстового редактора внесите изменения в текст программы в файле lab4.asm так, чтобы вместо Hello world! на экран выводилась строка с вашими фамилией и именем.
3. Оттранслируйте полученный текст программы lab4.asm в объектный файл. Выполните компоновку объектного файла и запустите получившийся исполняемый файл.
4. Скопируйте файлы hello.asm и lab4.asm в Ваш локальный репозиторий в ката-
лог ~/work/study/2023-2024/"Архитектура компьютера"/arch-pc/labs/lab04/.
Загрузите файлы на Github.

# Выполнение лабораторной работы

Создадим каталог для работы с программами на языке ассемблера NASM. Перейдем в созданный каталог. Создадим текстовый файл с именем hello.asm ([рис.4.1]). 

![Создание файла](image/1.jpg){#fig-001 width=70%}

И откроем его с помощью текстового редактора, введем туда программу ([рис.4.2]).

![Открытие файла 'hello.asm' в текстовом редакторе и написание программы "Hello world!"](image/22.jpg){#fig-002 width=70%}

Скомпилируем приведенный выше текст программы с помощью команды nasm -f elf hello.asm и проверим её выполнение. ([рис.4.3])

![Создание объектного файла и проверка](image/2.jpg){#fig-003 width=70%}

Скомпилируем исходный файл hello.asm в obj.o, при этом формат выходного файла будет elf, и в него будут включены символы для отладки (опция -g), кроме того, будет создан файл листинга list.lst (опция -l) и проверим её выполнение команд. ([рис. 4.4]). 

![Создание объектного файла obj.o и проверка](image/3.jpg){#fig-004 width=70%}


Передадим объектный файл на обработку компановщику и проверим корректность выполнения команды ([рис.4.5]). 
![Создание исполняемого файла hello и проверка](image/4.jpg){#fig-005 width=70%}

Ключ -o с последующим значением задаёт в данном случае имя создаваемого исполняемого файла.Выполним следующую команду:
ld -m elf_i386 obj.o -o main. ([рис.4.6]).

![Создание исполняемого файла main, собранного из файла obj.o](image/5.jpg){#fig-006 width=70%}

Запустим созданный файл ([рис.4.7]). 

![Запуск программы](image/6.jpg){#fig-007 width=70%}

# Задание для самостоятельной работы

1) В каталоге ~/work/arch-pc/lab04 создадим копию файла hello.asm с именем lab4.asm ([рис.4.8]). 

![Создание копии файла](image/7.jpg){#fig-008 width=70%}

2) С помощью любого текстового редактора внесем изменения в текст программы в файле lab4.asm так, чтобы вместо Hello world! на экран выводилась строка с моей фамилией и именем.
 
3) Чтобы выполнился 2 пункт необходимо провести те же самые команды, что и с "Hello world!". Запустим созданный файл ([рис.4.9]).

![Запуск программы](image/8.jpg){#fig-009 width=70%}
Действительно выводится фамилия и имя, значит  я сделала все верно.

4) Скопируем файлы hello.asm и lab4.asm в локальный репозиторий в каталог ~/work/study/2024-2025/"Архитектура компьютера"/arch-pc/labs/lab04/ и загрузим файлы на Github ([рис.4.10]). 

![Загрузка файлов на Github](image/9.jpg){#fig-010 width=70%}

Действительно файлы hello.asm и lab4.asm лежат в локальном репозитории. ([рис.4.11]). 

![Файлы на Github](image/10.jpg){#fig-011 width=70%}

# Выводы
Мы освоили процедуры компиляции и сборки программ, написанных на ассемблере NASM.
